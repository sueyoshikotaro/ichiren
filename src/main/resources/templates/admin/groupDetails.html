<!-- 向江 -->
<!-- グループ詳細機能 -->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>タスクどん</title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
		crossorigin="anonymous"></script>

	<a th:href="@{/taskdon/admin/logout}">ログアウト</a><!-- 右寄せにする -->
</head>

<body>

	<div class="container" id="container"> <!-- コンテナ共通 -->
		<h1>グループ詳細画面</h1><br>


		<tr th:each="groupDetails : ${group}" th:if="${groupDetailsStat.index == 0}">
			<p th:text="${groupDetails.group_name}"></p>
			<p th:text="${groupDetails.genre}"></p>


			<!--		<h3 th:text="${group.group_name}"></h3>-->
			<!--		<h3 th:text="${group.genre}"></h3>-->


			<!-- グループ全体の進捗率(バー&パーセント)を表示する -->
			<div class="overview">
				<div class="all-progress" role="progressbar" aria-label="Basic example" aria-valuenow="0"
					aria-valuemin="0" aria-valuemax="100">
					<div class="progress-bar" th:style="'width:'+ ${groupDetails.all_progress}+'%'"></div>
				</div>

			</div>
		</tr><br>
		<table>
			<tr>
				<th>メンバ</th>
				<th>進捗率</th>
				<th>更新日</th>
				<th>スコア</th>
				<td colspan="2"></td>
			</tr>

			<tr th:each="group : ${group}">
				<td th:text="${group.user_name}"></td>
				<td th:text="'進捗' + ${group.user_progress} + '％'"></td>
				<div class="user-progress" role="progressbar" aria-label="Basic example" aria-valuenow="0"
					aria-valuemin="0" aria-valuemax="100">
					<div class="progress-bar" th:style="'width:'+ ${group.user_progress}+'%'"></div>
				</div>
<!--				<td th:text="${group.app_date}"></td> 更新日 後回しのやつ -->
				<td th:text="${group.score}"></td>

				<td>
					<!-- 詳細 -->
					<form th:action="@{groupMenberDetails}" method="get">
						<input type="hidden" name="user_id" th:value="group.user_id">
						<input type="hidden" name="user_name" th:value="group.user_name">
						<input type="hidden" name="score" th:value="group.score">
						<input type="hidden" name="user_progress" th:value="group.user_progress">
						<input type="hidden" name="task_name" th:value="group.task_name">
						<input type="hidden" name="task_priority" th:value="group.task_priority">
						<input type="hidden" name="progress" th:value="group.progress">
						<!-- 更新日が入るかも -->
						<input type="submit" value="詳細">
					</form>
					<!-- 削除 -->
					<form th:action="@{groupMenberDelete}" method="get">
						<input type="hidden" name="user_id" th:value="group.user_id">
						<input type="hidden" name="user_name" th:value="group.user_name">
						<input type="hidden" name="score" th:value="group.score">
						<input type="hidden" name="user_progress" th:value="group.user_progress">
						<input type="hidden" name="task_name" th:value="group.task_name">
						<input type="hidden" name="task_priority" th:value="group.task_priority">
						<input type="hidden" name="progress" th:value="group.progress">
						<!-- 更新日が入るかも -->
						<input type="submit" value="削除">
					</form>
				</td>
			</tr>
		</table>

		<!-- コンテナ最下のボタン -->
		<button th:onclick="|location.href='@{groupUpdate}'|">編集</button>
		<button th:onclick="|location.href='@{groupAdd}'|">追加</button>
		<button th:onclick="|location.href='@{groupDiss}'|">解散</button>

	</div>

	<!--	<div class="main">-->

	<!--		<div class="table">-->

	<!--			<div th:each="group : ${groupDetails}">-->
	<!--				<div th:text="${group.user_name}"></div>-->
	<!--				<div th:text="'進捗' + ${group.progress} + '％'"></div>-->
	<!--				<div class="progress" role="progressbar" aria-label="Basic example" aria-valuenow="0" aria-valuemin="0"-->
	<!--					aria-valuemax="100">-->
	<!--					<div class="progress-bar" th:style="'width:'+ ${group.progress}+'%'"></div>-->
	<!--				</div>-->
	<!--				<div th:text="${group.work_status}"></div>-->
	<!--				<div>-->
	<!--					<form th:action="@{groupDetail}" method="post">-->
	<!--						<input type="hidden" name="group_id" th:value="${group.group_id}">-->
	<!--						<input type="hidden" name="group_name" th:value="${group.group_name}">-->
	<!--						<input type="hidden" name="task_content" th:value="${group.school_id}">-->
	<!--						<input type="hidden" name="task_priority" th:value="${group.group_flg}">-->
	<!--						<input type="hidden" name="progress" th:value="${group.genre}">-->
	<!--						<input type="hidden" name="start_date" th:value="${group.work_status}">-->
	<!--						<input type="submit" value="詳細">-->
	<!--					</form>-->
	<!--				</div>-->
	<!--			</div>-->




	<!--	<button th:onclick="|location.href='@{groupCreate}'|">作成</button>-->
	<!--	<button th:onclick="|location.href='@{menu}'|">メニュー</button>-->

	</div>
</body>

</html>